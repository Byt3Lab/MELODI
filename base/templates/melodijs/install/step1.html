<div class="melodi-install">
    <style>
        .melodi-install *{box-sizing:border-box}
        .install-container{max-width:760px;margin:40px auto;padding:28px;border-radius:12px;background:#ffffff;box-shadow:0 8px 28px rgba(15,23,42,0.06);font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#0f172a}
        .header{display:flex;align-items:center;gap:14px}
        h1{margin:0;font-size:1.25rem}
        p.sub{margin:6px 0 0;color:#475569}
        form{margin-top:18px}
        .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
        .full{grid-column:1/-1}
        label{font-size:0.9rem;color:#334155;margin-bottom:6px;display:block}
        input,select{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #e6eef8;background:#fbfdff;font-size:0.95rem;color:#0f172a}
        .actions{display:flex;gap:10px;justify-content:space-between;align-items:center;margin-top:18px}
        .primary-btn{background:#4f46e5;color:#fff;padding:10px 16px;border-radius:9px;border:none;cursor:pointer;font-weight:600}
        .secondary{background:transparent;border:1px solid #e6eef8;padding:10px 14px;border-radius:9px;color:#334155}
        .note{font-size:0.85rem;color:#64748b;margin-top:12px;text-align:center}
        @media (max-width:640px){.form-grid{grid-template-columns:1fr}.install-container{margin:20px;padding:18px}}
    </style>

    <div class="install-container">
        <div class="header">
            <div>
                <h1>Installation de Melodi</h1>
                <p class="sub">Quelques étapes simples pour configurer l'application</p>
            </div>
        </div>

        <form method="post" action="/install/step1" id="install-form" class="mt-5">
            <div class="form-grid">
                <div class="full">
                    <label for="db_provider">Moteur de base de données</label>
                    <select name="db_provider" id="db_provider" v-model="db_provider" required>
                        <option value="sqlite">SQLite</option>
                        <option value="postgresql">PostgreSQL</option>
                        <option value="mysql">MySQL</option>
                        <option value="oracle">Oracle</option>
                    </select>
                </div>

                <div>
                    <div v-if="db_provider != 'sqlite'"  class="form-grid">
                        <div>
                            <label for="db_user">Nom d'utilisateur</label>
                            <input type="text" id="db_user" name="db_user" placeholder="ex: jean_pierre" v-model="db_user" required>
                        </div>

                        <div>
                            <label for="db_host">Hôte</label>
                            <input type="text" id="db_host" name="db_host" placeholder="ex: localhost" required>
                        </div>

                        <div>
                            <label for="db_password">Mot de passe</label>
                            <input type="password" id="db_password" name="db_password" required>
                        </div>

                        <div>
                            <label for="db_password_confirm">Confirmer le mot de passe</label>
                            <input type="password" id="db_password_confirm" name="db_password_confirm" required>
                        </div>

                        <div>
                            <label for="db_port">Port</label>
                            <input type="number" min="0" id="db_port" name="db_port" placeholder="ex: 5432" required>
                        </div>
                    </div>
                    
                    <div class="full">
                        <label for="db_name">Nom de la base de données</label>
                        <input type="text" id="db_name" name="db_name" placeholder="ex: melodi_database" required>
                    </div>
                </div>
            </div>

            <div class="actions mt-5">
                <button type="button" class="secondary" onclick="history.back();">Retour</button>
                <span v-if="loading_btn" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" id="spinner"></span>
                <span v-else @click="submit" class="primary-btn">Enregistrer</span>
            </div>

            <p class="note">Les informations de connexion à la base de données resteront confidentielles et seront utilisées uniquement pour configurer l'application.</p>
        </form>
    </div>
</div>